
FourPoint=[...
        342204.00 6380040.00 1025 5550;...
        337685.00 6395805.00 1025 6206;...
        351119.00 6399655.00 1584 6206;...
        355638.00 6383890.00 1584 5550];

%%
%(x,y) ->(line, cdp)    
A=[FourPoint(1:3,1) FourPoint(1:3,2) ones(3,1)];
B=[FourPoint(1:3,3) FourPoint(1:3,4)];
Mxy2sx=A\B;
Mxy2sx=Mxy2sx';

%0.038452031536422   0.011022183984338   -82455.41370732605
%-0.011019910713241   0.038452332603035  -236006.3625749549

%用第四个点进行验证
Mxy2sx*[FourPoint(4,1) FourPoint(4,2) 1]'



%%
%(line,cdp)->(x,y)

A=[FourPoint(1:3,3) FourPoint(1:3,4) ones(3,1)];
B=[FourPoint(1:3,1) FourPoint(1:3,2)];
Msx2xy=A\B;
Msx2xy=Msx2xy';

%24.032200357781754  -6.888719512195123  35580.3387925957
%6.887298747763370  24.032012195122075  623960.2851100615

%用第四个点进行验证
Msx2xy*[FourPoint(4,3) FourPoint(4,4) 1]'
%(line=1255 cdp=5955)
Msx2xy*[1255 5955 1]'
%344941.474679851    6391357.043651010
%(line=1 cdp=1)
Msx2xy*[ 1 1 1]'



